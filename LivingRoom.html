<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Living Room</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Your existing styles here... */
    </style>
</head>
<body>
    <div class="navbar">
        <a href="House.html">Home</a>
        <a href="Kitchen.html">Kitchen</a>
        <a href="Garage.html">Garage</a>
        <a href="LivingRoom.html">Living Room</a>
        <a href="StudyRoom.html">Study Room</a>
        <a href="Security.html">Security</a>
        <a href="Website_P&O3.html" class="logout-button">
            <i class="fas fa-sign-out-alt"></i> Logout </a>
    </div>

    <h1>Smart House</h1>
    <h2>Living Room</h2>
    
    <div class="container">
        <div class="room-menu">
            <a href="LivingLights.html"><i class="fas fa-lightbulb"></i> Lights</a>
            <a href="Television.html"><i class="fas fa-tv"></i> Television</a>
            <a href="Soundboxes.html"><i class="fas fa-volume-up"></i> Soundboxes</a>
        </div>

        <div style="position: relative;">
            <img class="img-living" src="Living.jpeg" alt="Living Room">
        </div>
    </div>

    <!-- Display current brightness -->
    <h2>Current Living Room Light Brightness</h2>
    <p id="currentBrightness">Loading...</p>

    <script>
        const currentBrightnessElement = document.getElementById('currentBrightness');
        const apiUrl = 'http://localhost:3000/api/living-lights'; // Update with the correct API URL if needed

        // Fetch brightness from the server
        function fetchBrightness() {
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const brightness = data.brightness || 0;
                    currentBrightnessElement.textContent = `${(brightness * 100).toFixed(0)}%`; // Display as percentage
                })
                .catch(error => console.error('Error fetching brightness:', error));
        }

        // Call the function to fetch the brightness on page load
        fetchBrightness();
    </script>
</body>
</html>
